{"version":3,"file":"angular-leaflet.js","sources":["ng://angular-leaflet/core/layer-handler.ts","ng://angular-leaflet/core/base-layer.ts","ng://angular-leaflet/core/map-handler.ts","ng://angular-leaflet/core/leaflet.component.ts","ng://angular-leaflet/core/core.module.ts","ng://angular-leaflet/groups/feature-group/feature-group.component.ts","ng://angular-leaflet/groups/groups.module.ts","ng://angular-leaflet/image-overlay/image-overlay.component.ts","ng://angular-leaflet/image-overlay/image-overlay.module.ts","ng://angular-leaflet/marker/marker.component.ts","ng://angular-leaflet/marker/marker.module.ts","ng://angular-leaflet/tile-layer/tile-layer.component.ts","ng://angular-leaflet/tile-layer/tile-layer.module.ts","ng://angular-leaflet/vectors/polygon/polygon.component.ts","ng://angular-leaflet/vectors/polyline/polyline.component.ts","ng://angular-leaflet/vectors/rectangle/rectangle.component.ts","ng://angular-leaflet/vectors/circle/circle.component.ts","ng://angular-leaflet/vectors/vectors.module.ts"],"sourcesContent":["import { Layer, Map } from 'leaflet';\nimport { v4 as uuid } from 'uuid';\n\nexport class LayerHandler<T extends Layer> {\n  id: string;\n  mapRef: Map;\n  layerRef: T;\n\n  constructor() {\n    this.id = uuid();\n  }\n\n  initialize(mapRef: Map, layerRef: T) {\n    this.mapRef = mapRef;\n    this.layerRef = layerRef;\n  }\n}\n","import { Layer, LayerGroup, Map } from 'leaflet';\nimport { AfterContentInit, ContentChildren, OnDestroy, QueryList } from '@angular/core';\nimport { LayerHandler } from './layer-handler';\nimport { v4 as uuid } from 'uuid';\nimport { Subscription } from 'rxjs';\n\nexport class BaseLayer<T extends Layer> implements OnDestroy, AfterContentInit {\n  id: string;\n  mapRef: Map | LayerGroup;\n  layerRef: T;\n  handlerIds: string[] = [];\n  handlerSubscription: Subscription;\n  @ContentChildren(LayerHandler) handlers: QueryList<LayerHandler<any>>;\n\n  constructor() {\n    this.id = uuid();\n  }\n\n  addTo(map: Map | LayerGroup): void {\n    this.mapRef = map;\n  }\n\n  removeFrom(): void {\n    if (this.layerRef) {\n      (this.mapRef as any).removeLayer(this.layerRef);\n    }\n  }\n\n  ngAfterContentInit(): void {\n    this.initHandlers();\n    this.handlerSubscription = this.handlers.changes.subscribe(this.initHandlers.bind(this));\n  }\n\n  initHandlers() {\n    this.handlers.filter(handler => !this.handlerIds.includes(handler.id)).forEach(this.initHandler.bind(this));\n  }\n\n  initHandler(handler: LayerHandler<any>) {\n    handler.initialize(this.layerRef['_map'], this.layerRef);\n    this.handlerIds = [...this.handlerIds, handler.id];\n  }\n\n  ngOnDestroy() {\n    this.handlerSubscription.unsubscribe();\n    this.removeFrom();\n  }\n}\n","import { Map } from 'leaflet';\nimport { v4 as uuid } from 'uuid';\n\nexport class MapHandler {\n  id: string;\n  mapRef: Map;\n\n  constructor() {\n    this.id = uuid();\n  }\n\n  initialize(mapRef: Map): void {\n    this.mapRef = mapRef;\n  }\n}\n","import { AfterContentInit, Component, ContentChildren, ElementRef, Input, OnInit, QueryList } from '@angular/core';\nimport { map, Map, MapOptions } from 'leaflet';\nimport { BaseLayer } from './base-layer';\nimport { MapHandler } from './map-handler';\n\n@Component({\n  selector: 'ngl-leaflet',\n  template: '<ng-content></ng-content>',\n  styles: [\n    `\n      :host {\n        display: flex;\n        flex: 1 1 auto;\n      }\n    `\n  ]\n})\nexport class LeafletComponent implements OnInit, AfterContentInit {\n  @Input() options: MapOptions;\n\n  @ContentChildren(BaseLayer) layers: QueryList<BaseLayer<any>>;\n  @ContentChildren(MapHandler, { descendants: true }) handlers: QueryList<MapHandler>;\n\n  map: Map;\n  layerIds: string[] = [];\n  handlerIds: string[] = [];\n\n  constructor(private elementRef: ElementRef) {}\n\n  ngOnInit() {\n    this.map = map(this.elementRef.nativeElement, {\n      ...this.options\n    });\n  }\n\n  ngAfterContentInit() {\n    this.addLayers();\n    this.layers.changes.subscribe(this.addLayers.bind(this));\n\n    this.addHandlers();\n    this.handlers.changes.subscribe(this.addHandlers.bind(this));\n  }\n\n  private addLayers() {\n    this.layers.filter(layer => !this.layerIds.includes(layer.id)).forEach(this.addLayer.bind(this));\n  }\n\n  private addLayer(layer: BaseLayer<any>) {\n    layer.addTo(this.map);\n    this.layerIds = [...this.layerIds, layer.id];\n  }\n\n  private addHandlers() {\n    this.handlers.filter(handler => !this.handlerIds.includes(handler.id)).forEach(this.addHandler.bind(this));\n  }\n\n  private addHandler(handler: MapHandler) {\n    handler.initialize(this.map);\n    this.handlerIds = [...this.handlerIds, handler.id];\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {LeafletComponent} from './leaflet.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    LeafletComponent\n  ],\n  exports: [\n    LeafletComponent\n  ]\n})\nexport class NglCoreModule { }\n","import { Component, ContentChildren, forwardRef, QueryList } from '@angular/core';\nimport { BaseLayer } from '../../core/base-layer';\nimport { FeatureGroup, LayerGroup, Map } from 'leaflet';\n\n@Component({\n  selector: 'ngl-feature-group',\n  template: '',\n  providers: [{ provide: BaseLayer, useExisting: forwardRef(() => FeatureGroupComponent) }]\n})\nexport class FeatureGroupComponent extends BaseLayer<FeatureGroup> {\n  @ContentChildren(BaseLayer) layers: QueryList<BaseLayer<any>>;\n\n  layerIds: string[] = [];\n\n  addTo(map: Map | LayerGroup): void {\n    super.addTo(map);\n    this.layerRef = new FeatureGroup();\n    this.mapRef.addLayer(this.layerRef);\n\n    this.addLayers();\n\n    this.initHandlers();\n\n    this.layers.changes.subscribe(this.addLayers.bind(this));\n  }\n\n  private addLayers() {\n    this.layers\n      .filter(layer => layer.id !== this.id)\n      .filter(layer => !this.layerIds.includes(layer.id))\n      .forEach(this.addLayer.bind(this));\n  }\n\n  private addLayer(layer: BaseLayer<any>) {\n    layer.addTo(this.layerRef);\n    this.layerIds = [...this.layerIds, layer.id];\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FeatureGroupComponent} from './feature-group/feature-group.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    FeatureGroupComponent\n  ],\n  exports: [\n    FeatureGroupComponent\n  ]\n})\nexport class NglGroupsModule { }\n","import { Component, forwardRef, Input } from '@angular/core';\nimport { imageOverlay, ImageOverlay, LatLngBounds, latLngBounds, LayerGroup, Map } from 'leaflet';\nimport { BaseLayer } from '../core/base-layer';\n\n@Component({\n  selector: 'ngl-image-overlay',\n  template: '',\n  providers: [{ provide: BaseLayer, useExisting: forwardRef(() => ImageOverlayComponent) }]\n})\nexport class ImageOverlayComponent extends BaseLayer<ImageOverlay> {\n  @Input() set src(value: string) {\n    this._url = value;\n    if (this.layerRef) {\n      this.layerRef.setUrl(value);\n    } else {\n      this.prepareLayer();\n    }\n  }\n\n  @Input() set width(value: number) {\n    this._width = value;\n    if (this.layerRef) {\n      this.layerRef.setBounds(this.prepareBounds(this._width, this._height));\n    } else {\n      this.prepareLayer();\n    }\n  }\n\n  @Input() set height(value: number) {\n    this._height = value;\n    if (this.layerRef) {\n      this.layerRef.setBounds(this.prepareBounds(this._width, this._height));\n    } else {\n      this.prepareLayer();\n    }\n  }\n\n  private _url: string;\n  private _width: number;\n  private _height: number;\n\n  addTo(map: Map | LayerGroup): void {\n    super.addTo(map);\n    this.prepareLayer();\n  }\n\n  prepareLayer() {\n    if (this.mapRef && this._url && this._height && this._width) {\n      this.layerRef = imageOverlay(this._url, this.prepareBounds(this._width, this._height));\n      this.mapRef.addLayer(this.layerRef);\n      this.initHandlers();\n    }\n  }\n\n  private prepareBounds(width: number, height: number): LatLngBounds {\n    const southWest = (this.mapRef as Map).unproject([0, height * 2], 1),\n      northEast = (this.mapRef as Map).unproject([width * 2, 0], 1);\n\n    return latLngBounds(southWest, northEast);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {ImageOverlayComponent} from './image-overlay.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    ImageOverlayComponent\n  ],\n  exports: [\n    ImageOverlayComponent\n  ]\n})\nexport class NglImageOverlayModule { }\n","import { Component, forwardRef, Input } from '@angular/core';\nimport { divIcon, LatLngExpression, LayerGroup, Map, marker, Marker } from 'leaflet';\nimport { BaseLayer } from '../core/base-layer';\n\n@Component({\n  selector: 'ngl-marker',\n  template: '',\n  providers: [{ provide: BaseLayer, useExisting: forwardRef(() => MarkerComponent) }]\n})\nexport class MarkerComponent extends BaseLayer<Marker> {\n  @Input() set latLng(value: LatLngExpression) {\n    this._latLng = value;\n    this.prepareLayer();\n  }\n\n  _latLng: LatLngExpression;\n\n  private prepareLayer() {\n    if (this.mapRef && this._latLng) {\n      if (this.layerRef) {\n        this.layerRef.setLatLng(this._latLng);\n      } else {\n        this.createLayer();\n      }\n    }\n  }\n\n  private createLayer() {\n    this.layerRef = marker(this._latLng, {\n      icon: divIcon()\n    });\n    this.mapRef.addLayer(this.layerRef);\n    this.initHandlers();\n  }\n\n  addTo(map: Map | LayerGroup): void {\n    super.addTo(map);\n    this.prepareLayer();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {MarkerComponent} from './marker.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    MarkerComponent\n  ],\n  exports: [\n    MarkerComponent\n  ]\n})\nexport class NglMarkerModule { }\n","import { Component, forwardRef } from '@angular/core';\nimport { LayerGroup, Map, TileLayer, tileLayer } from 'leaflet';\nimport { BaseLayer } from '../core/base-layer';\n\n@Component({\n  selector: 'ngl-tile-layer',\n  template: '',\n  providers: [{ provide: BaseLayer, useExisting: forwardRef(() => TileLayerComponent) }]\n})\nexport class TileLayerComponent extends BaseLayer<TileLayer> {\n  addTo(map: Map | LayerGroup) {\n    super.addTo(map);\n    if (!this.layerRef) {\n      this.layerRef = tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png');\n      this.mapRef.addLayer(this.layerRef);\n      this.initHandlers();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {TileLayerComponent} from './tile-layer.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    TileLayerComponent\n  ],\n  exports: [\n    TileLayerComponent\n  ]\n})\nexport class NglTileLayerModule { }\n","import { Component, forwardRef, Input, OnDestroy } from '@angular/core';\nimport { LatLngExpression, LayerGroup, Map, PathOptions, polygon, Polygon } from 'leaflet';\nimport { BaseLayer } from '../../core/base-layer';\n\n@Component({\n  selector: 'ngl-polygon',\n  template: '',\n  providers: [{ provide: BaseLayer, useExisting: forwardRef(() => PolygonComponent) }]\n})\nexport class PolygonComponent extends BaseLayer<Polygon> {\n  @Input() set coordinates(value: LatLngExpression[]) {\n    this._coordinates = value;\n    if (this.layerRef) {\n      this.layerRef.setLatLngs(value);\n    } else {\n      this.createLayer();\n    }\n  }\n\n  @Input() set options(value: PathOptions) {\n    this._options = value;\n    if (this.layerRef) {\n      this.layerRef.setStyle(value);\n    } else {\n      this.createLayer();\n    }\n  }\n\n  private _coordinates: LatLngExpression[];\n  private _options: PathOptions;\n\n  createLayer() {\n    if (this.mapRef && this._coordinates) {\n      this.layerRef = polygon(this._coordinates, {\n        ...this._options\n      });\n      this.mapRef.addLayer(this.layerRef);\n      this.initHandlers();\n    }\n  }\n\n  addTo(map: Map | LayerGroup): void {\n    super.addTo(map);\n    if (!this.layerRef) {\n      this.createLayer();\n    }\n  }\n}\n","import { Component, forwardRef, Input } from '@angular/core';\nimport { LatLngExpression, LayerGroup, Map, PathOptions, polyline, Polyline } from 'leaflet';\nimport { BaseLayer } from '../../core/base-layer';\n\n@Component({\n  selector: 'ngl-polyline',\n  template: '',\n  providers: [{ provide: BaseLayer, useExisting: forwardRef(() => PolylineComponent) }]\n})\nexport class PolylineComponent extends BaseLayer<Polyline> {\n  @Input() set coordinates(value: LatLngExpression[]) {\n    this._coordinates = value;\n    if (this.layerRef) {\n      this.layerRef.setLatLngs(value);\n    } else {\n      this.createLayer();\n    }\n  }\n\n  @Input() set options(value: PathOptions) {\n    this._options = value;\n    if (this.layerRef) {\n      this.layerRef.setStyle(value);\n    } else {\n      this.createLayer();\n    }\n  }\n\n  private _coordinates: LatLngExpression[];\n  private _options: PathOptions;\n\n  addTo(map: Map | LayerGroup): void {\n    super.addTo(map);\n    if (!this.layerRef && this._coordinates) {\n      this.createLayer();\n    }\n  }\n\n  private createLayer() {\n    if (this.mapRef && this._coordinates) {\n      this.layerRef = polyline(this._coordinates, {\n        ...this._options\n      });\n      this.mapRef.addLayer(this.layerRef);\n      this.initHandlers();\n    }\n  }\n}\n","import { Component, forwardRef, Input } from '@angular/core';\nimport { LatLngBounds, LayerGroup, Map, PathOptions, rectangle, Rectangle } from 'leaflet';\nimport { BaseLayer } from '../../core/base-layer';\n\n@Component({\n  selector: 'ngl-rectangle',\n  template: '',\n  providers: [{ provide: BaseLayer, useExisting: forwardRef(() => RectangleComponent) }]\n})\nexport class RectangleComponent extends BaseLayer<Rectangle> {\n  @Input() set bounds(value: LatLngBounds) {\n    this._bounds = value;\n    if (this.layerRef) {\n      this.layerRef.setBounds(value);\n    } else {\n      this.createLayer();\n    }\n  }\n\n  @Input() set options(value: PathOptions) {\n    this._options = value;\n    if (this.layerRef) {\n      this.layerRef.setStyle(value);\n    } else {\n      this.createLayer();\n    }\n  }\n\n  private _bounds: LatLngBounds;\n  private _options: PathOptions;\n\n  createLayer() {\n    if (this.mapRef && this._bounds) {\n      this.layerRef = rectangle(this._bounds, {\n        ...this._options\n      });\n      this.mapRef.addLayer(this.layerRef);\n      this.initHandlers();\n    }\n  }\n\n  addTo(map: Map | LayerGroup): void {\n    super.addTo(map);\n    if (!this.layerRef) {\n      this.createLayer();\n    }\n  }\n}\n","import { Component, forwardRef, Input } from '@angular/core';\nimport { BaseLayer } from '../../core/base-layer';\nimport { circle, Circle, LatLngExpression, LayerGroup, Map, PathOptions } from 'leaflet';\n\n@Component({\n  selector: 'ngl-circle',\n  template: '',\n  providers: [{ provide: BaseLayer, useExisting: forwardRef(() => CircleComponent) }]\n})\nexport class CircleComponent extends BaseLayer<Circle> {\n  @Input() set center(value: LatLngExpression) {\n    this._center = value;\n    if (this.layerRef) {\n      this.layerRef.setLatLng(value);\n    } else {\n      this.createLayer();\n    }\n  }\n\n  @Input() set radius(value: number) {\n    this._radius = value;\n    if (this.layerRef) {\n      this.layerRef.setRadius(value);\n    } else {\n      this.createLayer();\n    }\n  }\n\n  @Input() set options(value: PathOptions) {\n    this._options = value;\n    if (this.layerRef) {\n      this.layerRef.setStyle(value);\n    }\n  }\n\n  private _center: LatLngExpression;\n  private _radius: number;\n  private _options: PathOptions;\n\n  addTo(map: Map | LayerGroup): void {\n    super.addTo(map);\n    if (!this.layerRef) {\n      this.createLayer();\n    }\n  }\n\n  private createLayer() {\n    if (this.mapRef && this._center && this._radius) {\n      this.layerRef = circle(this._center, {\n        ...this._options,\n        radius: this._radius\n      });\n      this.mapRef.addLayer(this.layerRef);\n      this.initHandlers();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {PolygonComponent} from './polygon/polygon.component';\nimport {PolylineComponent} from './polyline/polyline.component';\nimport {RectangleComponent} from './rectangle/rectangle.component';\nimport {CircleComponent} from './circle/circle.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    PolygonComponent,\n    PolylineComponent,\n    RectangleComponent,\n    CircleComponent\n  ],\n  exports: [\n    PolygonComponent,\n    PolylineComponent,\n    RectangleComponent,\n    CircleComponent\n  ]\n})\nexport class NglVectorsModule { }\n"],"names":["uuid"],"mappings":"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"}